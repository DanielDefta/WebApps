<app-header></app-header>

<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading">
            Bestellingen te verpakken
        </div>
        <!-- .panel-heading -->
        <div class="panel-body">
            <div class="panel-group" id="accordion">
                <div class="panel panel-default" *ngFor="let order of orders; let i = index">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <div class="table-responsive" style="max-height:300px; overflow-y: scroll">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>OrderId</th>
                                            <th>Description</th>
                                            <th>CustomerId</th>
                                            <th>Totaal</th>
                                            <th>Status</th>
                                            <th style="text-align: center">OPEN</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="info">
                                            <td>{{i+1}}</td>
                                            <td>{{order._id}}</td>
                                            <td>{{order.omschrijving}}</td>
                                            <td>{{order.customerId}}</td>
                                            <td>{{order.totaal}}</td>
                                            <td>{{order.status}}</td>
                                            <td style="text-align: center">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#{{order._id}}" aria-expanded="false"
                                                    class="collapsed glyphicon glyphicon-arrow-down" style="text-decoration: none"></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </h4>
                    </div>
                    <div id="{{order._id}}" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                        <div class="panel-body">
                            <div *ngFor='let product of order.producten; let i = index' class="row" style="vertical-align: middle">
                                <div class="col-xs-2">
                                    <img class="img-responsive" src="{{product.imgUrl}}">
                                </div>
                                <div class="col-xs-4" style="vertical-align: m">
                                    <h4 class="product-name">
                                        <strong>{{product.naam}}</strong>
                                    </h4>
                                    <h4>
                                        <small>{{product.omschrijving}}</small>
                                    </h4>
                                </div>
                                <div class="col-xs-6">
                                    <div class="col-xs-6 text-right">
                                        <h6>
                                            <strong>{{product.prijs}}
                                                <span class="text-muted">x</span>
                                            </strong>
                                        </h6>
                                    </div>
                                    <div class="col-xs-4">
                                        <input type="text" disabled class="form-control input-sm" value="1">
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: center">
                                <button type="button" class="btn btn-info" (click)="verwerkBestelling(order)">Bestelling is verpakt</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- .panel-body -->
    </div>
</div>